2026-02-03 21:32:14,626 - main - INFO - === Logging system initialized ===
2026-02-03 21:32:14,626 - main - INFO - Log file: logs/app_20260203_213214.log
2026-02-03 21:32:14,626 - main - INFO - Log level: INFO
2026-02-03 21:32:14,627 - main - INFO - Timestamp: 20260203_213214
2026-02-03 21:32:14,640 - main - INFO - === Logging system initialized ===
2026-02-03 21:32:14,640 - main - INFO - Log file: logs/app_20260203_213214.log
2026-02-03 21:32:14,640 - main - INFO - Log level: INFO
2026-02-03 21:32:14,640 - main - INFO - Timestamp: 20260203_213214
2026-02-03 21:32:26,770 - main - INFO - Included router: routers.aihub.router
2026-02-03 21:32:26,788 - main - INFO - Included router: routers.aihub.router
2026-02-03 21:32:26,998 - main - INFO - Included router: routers.auth.router
2026-02-03 21:32:27,048 - main - INFO - Included router: routers.health.router
2026-02-03 21:32:27,055 - main - INFO - Included router: routers.auth.router
2026-02-03 21:32:27,058 - main - INFO - Included router: routers.health.router
2026-02-03 21:32:27,100 - main - INFO - Included router: routers.settings.router
2026-02-03 21:32:27,171 - main - INFO - Included router: routers.settings.router
2026-02-03 21:32:27,313 - main - INFO - Included router: routers.storage.router
2026-02-03 21:32:27,392 - main - INFO - Included router: routers.user.router
2026-02-03 21:32:27,393 - main - INFO - === Application startup initiated ===
2026-02-03 21:32:27,394 - services.database - DEBUG - [DB_OP] Starting database initialization
2026-02-03 21:32:27,394 - services.database - INFO - ðŸ”§ Starting database initialization...
2026-02-03 21:32:27,394 - core.database - INFO - Starting database initialization...
2026-02-03 21:32:27,394 - core.config - DEBUG - Read dynamic attribute database_url from environment variable DATABASE_URL
2026-02-03 21:32:27,394 - core.database - INFO - Normalizing database URL for async compatibility...
2026-02-03 21:32:27,395 - core.database - INFO - Creating async database engine...
2026-02-03 21:32:27,396 - core.database - INFO - Using QueuePool with connection pooling for non-Lambda environment
2026-02-03 21:32:27,408 - main - INFO - Included router: routers.storage.router
2026-02-03 21:32:27,423 - main - INFO - Included router: routers.user.router
2026-02-03 21:32:27,428 - main - INFO - === Application startup initiated ===
2026-02-03 21:32:27,429 - services.database - DEBUG - [DB_OP] Starting database initialization
2026-02-03 21:32:27,430 - services.database - INFO - ðŸ”§ Starting database initialization...
2026-02-03 21:32:27,430 - core.database - INFO - Starting database initialization...
2026-02-03 21:32:27,430 - core.config - DEBUG - Read dynamic attribute database_url from environment variable DATABASE_URL
2026-02-03 21:32:27,431 - core.database - INFO - Normalizing database URL for async compatibility...
2026-02-03 21:32:27,432 - core.database - INFO - Creating async database engine...
2026-02-03 21:32:27,432 - core.database - INFO - Using QueuePool with connection pooling for non-Lambda environment
2026-02-03 21:32:28,073 - core.database - INFO - Database engine created successfully
2026-02-03 21:32:28,074 - core.database - INFO - Creating async session maker...
2026-02-03 21:32:28,074 - core.database - INFO - Async session maker created successfully
2026-02-03 21:32:28,074 - core.database - INFO - Database connection initialized successfully
2026-02-03 21:32:28,074 - services.database - INFO - ðŸ”§ Database connection initialized, now creating tables if tables not exist...
2026-02-03 21:32:28,074 - core.database - DEBUG - [DB_OP] Starting create_tables
2026-02-03 21:32:28,074 - core.database - INFO - ðŸ”§ Starting table creation...
2026-02-03 21:32:28,074 - core.database - INFO - Database engine created successfully
2026-02-03 21:32:28,075 - core.database - INFO - Creating async session maker...
2026-02-03 21:32:28,075 - core.database - INFO - Async session maker created successfully
2026-02-03 21:32:28,075 - core.database - INFO - Database connection initialized successfully
2026-02-03 21:32:28,076 - services.database - INFO - ðŸ”§ Database connection initialized, now creating tables if tables not exist...
2026-02-03 21:32:28,076 - core.database - DEBUG - [DB_OP] Starting create_tables
2026-02-03 21:32:28,076 - core.database - INFO - ðŸ”§ Starting table creation...
2026-02-03 21:32:29,929 - core.database - INFO - Tables initialized successfully
2026-02-03 21:32:29,930 - core.database - DEBUG - [DB_OP] Create tables completed in 1.8557s
2026-02-03 21:32:29,991 - services.database - INFO - ðŸ”§ Table creation completed
2026-02-03 21:32:29,991 - services.database - INFO - Database initialized successfully
2026-02-03 21:32:29,991 - services.database - DEBUG - [DB_OP] Database initialization completed in 2.5625s
2026-02-03 21:32:29,992 - services.mock_data - INFO - mock_data directory not found, skipping mock initialization
2026-02-03 21:32:29,992 - services.database - DEBUG - [DB_OP] Starting database initialization
2026-02-03 21:32:29,993 - services.database - INFO - ðŸ”§ Starting database initialization...
2026-02-03 21:32:29,993 - core.database - INFO - Starting database initialization...
2026-02-03 21:32:29,993 - core.database - INFO - Database already initialized
2026-02-03 21:32:29,993 - services.database - INFO - ðŸ”§ Database connection initialized, now creating tables if tables not exist...
2026-02-03 21:32:29,993 - core.database - DEBUG - [DB_OP] Starting create_tables
2026-02-03 21:32:29,994 - core.database - INFO - Tables already initialized
2026-02-03 21:32:29,994 - services.database - INFO - ðŸ”§ Table creation completed
2026-02-03 21:32:29,994 - services.database - INFO - Database initialized successfully
2026-02-03 21:32:29,994 - services.database - DEBUG - [DB_OP] Database initialization completed in 0.0017s
2026-02-03 21:32:29,994 - core.config - DEBUG - Read dynamic attribute admin_user_id from environment variable ADMIN_USER_ID
2026-02-03 21:32:29,995 - core.config - DEBUG - Read dynamic attribute admin_user_email from environment variable ADMIN_USER_EMAIL
2026-02-03 21:32:30,050 - core.database - ERROR - Failed to create tables: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "pg_type_typname_nsp_index"
DETAIL:  Key (typname, typnamespace)=(users, 2200) already exists.
[SQL: 
CREATE TABLE users (
	id VARCHAR(255) NOT NULL, 
	email VARCHAR(255) NOT NULL, 
	name VARCHAR(255), 
	role VARCHAR(50) NOT NULL, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	last_login TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2026-02-03 21:32:30,051 - services.database - ERROR - Failed to initialize database: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "pg_type_typname_nsp_index"
DETAIL:  Key (typname, typnamespace)=(users, 2200) already exists.
[SQL: 
CREATE TABLE users (
	id VARCHAR(255) NOT NULL, 
	email VARCHAR(255) NOT NULL, 
	name VARCHAR(255), 
	role VARCHAR(50) NOT NULL, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	last_login TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2026-02-03 21:32:30,595 - services.auth - DEBUG - Created admin user: 950471 with email: 1926375372cgy@gmail.com
2026-02-03 21:32:30,595 - main - INFO - === Application startup completed successfully ===
2026-02-03 21:32:38,517 - services.database - DEBUG - [DB_OP] Starting database close
2026-02-03 21:32:38,581 - core.database - INFO - Database connection closed and engine disposed
2026-02-03 21:32:38,581 - services.database - INFO - Database connections closed
2026-02-03 21:32:38,581 - services.database - DEBUG - [DB_OP] Database close completed in 0.0644s
